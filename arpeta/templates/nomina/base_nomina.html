<!DOCTYPE html>
{% load static %}
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Sistema de Gestión de Operadores{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    {% block extra_css %}{% endblock %}
</head>
<body class="bg-gray-50">
    <!-- Barra superior de navegación -->
    <nav class="bg-gradient-to-r from-blue-900 to-blue-900 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <!-- Logo y menú izquierdo -->
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <i class="fas fa-truck-moving text-white text-2xl mr-2"></i>
                        <span class="text-white font-bold text-xl">Arpeta </span>
                    </div>
                    <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                        <!-- Enlaces de navegación -->
                        <a href="{% url 'inicio_nomina' %}" class="border-blue-500 text-white inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium hover:bg-blue-700 transition duration-150 ease-in-out">
                            <i class="fas fa-home mr-2"></i> Inicio
                        </a>
                        <a href="{% url 'calcular_pago' %}" class="border-transparent text-blue-200 hover:border-blue-300 hover:text-white inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition duration-150 ease-in-out">
                            <i class="fas fa-truck mr-2"></i> C. Pagos
                        </a>
                       
                        <a href="{% url 'resultado_pago' %}" class="border-transparent text-blue-200 hover:border-blue-300 hover:text-white inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition duration-150 ease-in-out">
                            <i class="fas fa-tasks mr-2"></i> Resultado
                        </a>
                       
                        <a href="{% url 'reportes_gerente' %}" class="border-transparent text-blue-200 hover:border-blue-300 hover:text-white inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition duration-150 ease-in-out">
                            <i class="fas fa-chart-bar mr-2"></i> Reportes
                        </a>
                    </div>
                </div>
                
                <!-- Menú derecho (salir y usuario) -->
                <div class="hidden sm:ml-6 sm:flex sm:items-center">
                    <div class="ml-3 relative">
                        <div>
                            <button id="user-menu" class="flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-800 focus:ring-white" aria-expanded="false" aria-haspopup="true">
                                <span class="sr-only">Abrir menú de usuario</span>
                                <div class="h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold">
                                    {{ user.username|first|upper }}
                                </div>
                            </button>
                        </div>
                        
                            <a href="{% url 'logout' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">
                                <i class="fas fa-sign-out-alt mr-2"></i> Cerrar sesión
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Botón de menú móvil -->
                <div class="-mr-2 flex items-center sm:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-blue-200 hover:text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                        <span class="sr-only">Abrir menú principal</span>
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Menú móvil -->
        <div id="mobile-menu" class="sm:hidden hidden">
            <div class="pt-2 pb-3 space-y-1">
                <a href="{% url 'inicio_nomina' %}" class="bg-blue-900 text-white block pl-3 pr-4 py-2 border-l-4 border-blue-500 text-base font-medium">
                    <i class="fas fa-home mr-2"></i> Inicio
                </a>
                <a href="{% url 'calcular_pago' %}" class="text-blue-200 hover:bg-blue-700 hover:text-white block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium">
                    <i class="fas fa-truck mr-2"></i> Pagos
                </a>
                <a href="{% url 'resultado_pago' %}" class="text-blue-200 hover:bg-blue-700 hover:text-white block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium">
                    <i class="fas fa-users mr-2"></i> Resultado
                </a>
               
                <a href="{% url 'reportes_gerente' %}" class="text-blue-200 hover:bg-blue-700 hover:text-white block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium">
                    <i class="fas fa-chart-bar mr-2"></i> Reportes
                </a>
                
            </div>
        </div>
    </nav>

    <!-- Contenido principal -->
    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-8">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center">
                    <i class="fas fa-truck-moving text-blue-600 text-xl mr-2"></i>
                    <span class="text-gray-700 font-medium">Sistema de Gestión de Acarreo</span>
                </div>
                <div class="mt-4 md:mt-0">
                    <p class="text-gray-500 text-sm">
                        &copy; {% now "Y" %} Arpeta. Todos los derechos reservados.
                    </p>
                </div>
                <div class="mt-4 md:mt-0 flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-gray-500">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-gray-500">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-gray-500">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-gray-500">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    {% block extra_js %}{% endblock %}
    
    <script>
        // Menú desplegable del usuario
        document.getElementById('user-menu').addEventListener('click', function() {
            const dropdown = document.getElementById('user-dropdown');
            dropdown.classList.toggle('hidden');
        });

        // Menú móvil
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Cerrar menús al hacer clic fuera
        document.addEventListener('click', function(event) {
            const userMenu = document.getElementById('user-menu');
            const userDropdown = document.getElementById('user-dropdown');
            
            if (!userMenu.contains(event.target) && !userDropdown.contains(event.target)) {
                userDropdown.classList.add('hidden');
            }
        });
    </script>
</body>
</html>